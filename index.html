<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Couple Goals Vault ‚ú®</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@400;500;700&family=Nunito:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
    <script src="libs/chart.js"></script>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="aurora">
      <span></span>
      <span></span>
      <span></span>
    </div>
    <div class="page">
      <section class="centerpiece">
        <div class="floating-hearts" id="hearts-container"></div>
        <div class="romantic-names">
          <span id="name-taah">Taah</span>
          <span class="ampersand">&</span>
          <span id="name-panah">Panah</span>
        </div>
        <p class="eyebrow" id="centerpiece-sub" style="margin-top: 10px;">Building our love, one coin at a time ‚ù§Ô∏è</p>
      </section>

      <header class="hero">
        <div class="logo">
          <div class="heart"></div>
          <div class="sparkle"></div>
        </div>
        <div>
          <p class="eyebrow" id="hero-eyebrow">Together we stack dreamy coins ‚ú®</p>
          <h1 id="hero-title">Couple Goals</h1>
          <p class="subhead" id="hero-subhead">
            A money fun dashboard for future MBINGA'S.
          </p>
        </div>
        <div class="hero-card">
          <div class="pill">Live love budget</div>
          <h2 id="total-balance">$ 0</h2>
          <p class="muted">Total stash balance</p>
          <div class="couple">
            <button class="tag active" data-partner="Taah">Taah</button>
            <button class="tag" data-partner="Panah">Panah</button>
          </div>
        </div>
      </header>

      <section class="panel graph-section">
        <div class="panel-header">
          <h3 id="label-progress">üìà Progress Tracker</h3>
          <p class="muted" id="label-progress-sub">Watch the lines climb to the top!</p>
        </div>
        <!-- New: graph filters: toggles to show/hide goals on the chart -->
        <div id="graph-filters" class="graph-filters" aria-label="Graph filters" style="display:none;"></div>
        <div class="chart-container">
          <canvas id="progressChart"></canvas>
        </div>
        <div id="sassy-comment" class="sassy-box">
          <!-- TypeIt will animate sassy messages here for every 10% threshold per goal -->
        </div>
      </section>

      <main>
        <section class="panel">
          <div class="panel-header">
            <h3 id="label-deposit">üí∏ Make a deposit</h3>
            <p class="muted" id="label-deposit-sub">Add your contribution and watch the stash grow.</p>
          </div>
          <form id="deposit-form">
            <div class="input-row">
              <label id="label-money">
                Money (USD)
                <input type="number" step="1" name="amount" placeholder="e.g. 50" required />
              </label>
              <label id="label-goal">
                What it's for
                <select name="goal" id="goal-select" required>
                  <option value="" disabled selected>Select a goal</option>
                </select>
              </label>
            </div>
            <div class="input-row">
              <label id="label-who">
                Who is putting it in
                <input type="text" name="who" id="who-input" placeholder="e.g. Taah" required />
              </label>
              <label id="label-when">
                When
                <input type="date" name="when" id="when-input" placeholder="Select date" required />
              </label>
            </div>
            <div class="input-row">
              <label id="label-note">
                Note (optional)
                <input type="text" name="note" placeholder="e.g. For our future home" />
              </label>
            </div>
            <button type="submit" class="primary" id="btn-deposit">Stack the Love ‚ú®</button>
          </form>
          <div class="activity" id="activity-feed"></div>
        </section>

        <section class="panel goals">
          <div class="panel-header">
            <h3 id="label-garden">üå∏ Goal Garden</h3>
            <p class="muted" id="label-garden-sub">Every goal blooms with tiny wins.</p>
          </div>
          <div class="goal-list" id="goal-list"></div>
          <hr style="border: 0; border-top: 1px solid #eee2ff; margin: 10px 0;">
          <div class="add-goal">
            <h4 id="label-add-goal">‚ûï Add a new goal</h4>
            <form id="goal-form" class="input-row" style="margin-top: 10px;">
              <label id="label-new-name">
                Goal Name
                <input type="text" name="newGoalName" placeholder="e.g. Vacation" required />
              </label>
              <label id="label-new-target">
                Target (USD)
                <input type="number" name="newGoalTarget" placeholder="e.g. 1000" required />
              </label>
              <button type="submit" class="primary" id="btn-add-goal" style="padding: 8px 12px; align-self: end; margin-bottom: 4px;">Add to Stash</button>
            </form>
          </div>
        </section>
      </main>

      <section class="panel footer">
        <div class="footer-grid">
          <div class="footer-stats">
            <div class="stat-card">
              <span class="stat-icon">üèÜ</span>
              <div class="stat-info">
                <h4 id="footer-goals-completed">0</h4>
                <p id="label-done">Goals Done</p>
              </div>
            </div>
            <div class="stat-card">
              <span class="stat-icon">üå±</span>
              <div class="stat-info">
                <h4 id="footer-goals-active">0</h4>
                <p id="label-growing">Growing</p>
              </div>
            </div>
            <div class="stat-card">
              <span class="stat-icon">ü§ù</span>
              <div class="stat-info">
                <h4 id="footer-top-contributor">-</h4>
                <p id="label-stacker">Top Stacker</p>
              </div>
            </div>
          </div>
          <div class="footer-branding">
            <h3 id="footer-title">Couple Goals Vault</h3>
            <p id="footer-typeit"></p>
          </div>
        </div>
      </section>
    </div>

    <script src="libs/typeit.js"></script>
    <script src="libs/firebase-app.js"></script>
    <script src="libs/firebase-firestore.js"></script>
    <script src="js/config.js"></script>
    <script src="js/data.js"></script>
    <script src="app.js"></script>
  </body>
</html>
